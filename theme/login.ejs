<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="Login Page â€¢ Dashactyl">
        <title>Login | Dashactyl</title>
    </head>
    <body>
        <%- include('./components/navbar') %>
        <%- include('./components/banner') %>
        <form name="authLogin" action="/auth/login" method="POST" onsubmit="return validate()">
            <label for="email">Email</label><br>
            <input type="email" id="email" name="email"><br>
            <label for="password">Password</label><br>
            <input type="password" id="password" name="password"><br><br>
            <input type="submit" value="Login"><br><br>
        </form>
        <%# TODO: implement 'continue as' feature %>
        <button onclick="window.location.href = '/auth/discord'">Login with Discord</button>
        <script>
            function validate() {
                let missing = '';
                if (!document.forms['authLogin']['email'].value?.length) {
                    missing = 'email';
                }
                if (!document.forms['authLogin']['password'].value?.length) {
                    if (missing) {
                        missing += 'and password ';
                    } else {
                        missing = 'password ';
                    }
                }
                if (missing) {
                    event.preventDefault();
                    // temp alert thing
                    alert(missing +'field(s) was not provided.');
                }
            }
        </script>
    </body>
</html>
